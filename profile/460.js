(self.webpackChunk_genshin_utils_app_profile=self.webpackChunk_genshin_utils_app_profile||[]).push([[460],{460:(e,r,t)=>{"use strict";t.r(r),t.d(r,{observeCurrentProfile:()=>n.gg,observeProfiles:()=>n.Xl});var n=t(484)},484:(e,r,t)=>{"use strict";t.d(r,{FQ:()=>o,gg:()=>s,Xl:()=>c});var n=t(793);const i="__gu_observers";function o(){return window[i]||(window[i]={currentProfile:[],profiles:[]}),window[i]}function s(e,r=!0){const t=o();return t.currentProfile.push(e),r&&(0,n.c)().then((r=>{e(r.find((e=>e.isCurrent))||null)})).catch((e=>{console.warn("Failed to retrieve profiles store",e)})),()=>{t.currentProfile=t.currentProfile.filter((r=>r!==e))}}function c(e,r=!0){const t=o();return t.profiles.push(e),r&&(0,n.c)().then((r=>{e(r)})).catch((e=>{console.warn("Failed to retrieve profiles store",e)})),()=>{t.profiles=t.profiles.filter((r=>r!==e))}}},793:(e,r,t)=>{"use strict";t.d(r,{c:()=>o,O:()=>s});var n=t(486);const i="gu_profile_v1";async function o(){return await n.getItem(i)||[]}async function s(e){return await n.setItem(i,e)||[]}}}]);