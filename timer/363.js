(self.webpackChunk_genshin_utils_app_timer=self.webpackChunk_genshin_utils_app_timer||[]).push([[363],{363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{schedule:()=>c});var n=s(231),r=s(5),i=s.n(r);const a=new function(){return i()('(()=>{"use strict";self.addEventListener("message",(e=>{if(function(e){if(!e||"object"!=typeof e)return!1;switch(e.type){case"ping":case"pong":case"set_schedule":case"reach_scheduled_time":return!0;default:return!1}}(e.data))switch(e.data.type){case"ping":return void self.postMessage({type:"pong"});case"set_schedule":{const t=e.data;return void setInterval((()=>{self.postMessage({type:"reach_scheduled_time",time:t.time,id:t.id})}),Date.parse(t.time)-(new Date).valueOf())}}}))})();',"Worker",void 0,s.p+"timer.worker.worker.js")},c=(e,t)=>{const s=(0,n.v4)();let r=!1;const i=e=>{(function(e){if(!e||"object"!=typeof e)return!1;switch(e.type){case"ping":case"pong":case"set_schedule":case"reach_scheduled_time":return!0;default:return!1}})(e.data)&&"reach_scheduled_time"===e.data.type&&e.data.id===s&&(r||(t(),r=!0),a.removeEventListener("message",i))};a.addEventListener("message",i);const c=()=>{"hidden"!==document.visibilityState&&(e.valueOf()>Date.now().valueOf()||(r||(t(),r=!0,a.removeEventListener("message",i)),document.removeEventListener("visibilitychange",c)))};return document.addEventListener("visibilitychange",c),a.postMessage({type:"set_schedule",id:s,time:e.toISOString()}),()=>{a.removeEventListener("message",i),document.removeEventListener("visibilitychange",c)}}},5:e=>{"use strict";e.exports=function(e,t,s,n){var r=self||window;try{try{var i;try{i=new r.Blob([e])}catch(t){(i=new(r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder)).append(e),i=i.getBlob()}var a=r.URL||r.webkitURL,c=a.createObjectURL(i),o=new r[t](c,s);return a.revokeObjectURL(c),o}catch(n){return new r[t]("data:application/javascript,".concat(encodeURIComponent(e)),s)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new r[t](n,s)}}}}]);